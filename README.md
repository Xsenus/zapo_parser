# Zapo Parser

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–∞–π—Ç–æ–≤ –±—Ä–µ–Ω–¥–æ–≤ —Å —Ü–µ–ª—å—é —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `stage1_brands_scraper.py` ‚Äî —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—Ä–µ–Ω–¥–∞—Ö –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö  
- `stage2_contacts_scraper.py` ‚Äî –ø–æ–∏—Å–∫ —Å–∞–π—Ç–æ–≤ –±—Ä–µ–Ω–¥–æ–≤  
- `stage3_contacts_collector.py` ‚Äî —Å–±–æ—Ä email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ —Å –≥–ª–∞–≤–Ω–æ–π –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü  
- `stage4_export_to_excel.py` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ Excel, –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ `.ru` –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã  
- `stage5_carbase_scraper.py` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –∞–≤—Ç–æ–∫–∞—Ç–∞–ª–æ–≥–∞ –±—Ä–µ–Ω–¥–æ–≤, –º–æ–¥–µ–ª–µ–π –∏ –≤–µ—Ä—Å–∏–π –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
```

## üöÄ –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞

```bash
python stage4_export_to_excel.py
```

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç

- `contacts_ru_YYYY-MM-DD_HH-MM-SS.xlsx` ‚Äî –±—Ä–µ–Ω–¥—ã —Å —Å–∞–π—Ç–∞–º–∏ –≤ –∑–æ–Ω–µ `.ru`  
- `contacts_non_ru_YYYY-MM-DD_HH-MM-SS.xlsx` ‚Äî –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ  
- `stage4_export_log.txt` ‚Äî –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è  
- `stage5_carbase.json` ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å zapo.ru

## üìå –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

–í `stage4_export_to_excel.py`:

```python
MAX_EMAILS = 2     # –°–∫–æ–ª—å–∫–æ email –¥–æ–±–∞–≤–ª—è—Ç—å (–∏–ª–∏ -1 –¥–ª—è –≤—Å–µ—Ö)
MAX_PHONES = 5     # –°–∫–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–æ–±–∞–≤–ª—è—Ç—å (–∏–ª–∏ -1 –¥–ª—è –≤—Å–µ—Ö)
```

–ó–Ω–∞—á–µ–Ω–∏—è `-1` –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –±—É–¥—É—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ email/—Ç–µ–ª–µ—Ñ–æ–Ω—ã.

## üìù –§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü

–¢–∞–±–ª–∏—Ü–∞ –≤–∫–ª—é—á–∞–µ—Ç:

| –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –°–∞–π—Ç | Email 1 | Email 2 | ... | –¢–µ–ª–µ—Ñ–æ–Ω 1 | –¢–µ–ª–µ—Ñ–æ–Ω 2 | ... |
|----------|----------|------|---------|---------|-----|------------|-------------|-----|

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è email/—Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ (–ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É —á–∏—Å–ª—É –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ `.ru` –∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö)
- Email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ã –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –¥—É–±–ª–µ–π
- –ù–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `+7`, `8`, `00` ‚Üí `7XXXXXXXXXX`)

## üöò Stage 5: –ê–≤—Ç–æ–∫–∞—Ç–∞–ª–æ–≥

`stage5_carbase_scraper.py` —Å–æ–±–∏—Ä–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å —Å–∞–π—Ç–∞ zapo.ru:

- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç: –±—Ä–µ–Ω–¥, –º–æ–¥–µ–ª—å, –≤–µ—Ä—Å–∏—é, –≥–æ–¥—ã –≤—ã–ø—É—Å–∫–∞, –∫–∞—Ä—Ç–∏–Ω–∫—É
- –í–µ–¥—ë—Ç—Å—è –ª–æ–≥: `zapo_logs/carbase_log_YYYYMMDD_HHMMSS.txt`
- –ò—Ç–æ–≥: `stage5_carbase.json`

## üîß TODO

- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω—ã
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–º—É –∫–æ–¥—É
